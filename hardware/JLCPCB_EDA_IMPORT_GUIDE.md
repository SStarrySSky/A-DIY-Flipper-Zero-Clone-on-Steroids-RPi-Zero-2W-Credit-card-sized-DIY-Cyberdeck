# 嘉立创EDA (lceda.cn) 导入指南

## 📋 准备工作

### 需要的文件
- ✅ `pwnzero.net` - 网表文件
- ✅ `pwnzero_bom.csv` - BOM清单
- ✅ `PCB_COMPLETE_DESIGN.md` - 设计参考文档

### 注册账号
1. 打开 https://lceda.cn/
2. 点击右上角"注册"
3. 使用手机号或邮箱注册
4. 登录账号

---

## 🚀 方法一：从网表导入（推荐）

### 步骤1：创建新项目

1. **登录立创EDA**
   - 打开 https://lceda.cn/editor
   - 点击"新建项目"

2. **选择PCB编辑器**
   - 点击"PCB"图标
   - 或者：文件 → 新建 → PCB

### 步骤2：设置板框

1. **绘制板框**
   ```
   尺寸：85.6mm x 53.98mm
   ```
   - 点击左侧工具栏"板框"工具
   - 在画布上绘制矩形
   - 右键 → 属性 → 输入精确尺寸：
     - 长度：85.6mm
     - 宽度：53.98mm

2. **添加安装孔**
   - 点击"过孔"工具
   - 选择"非金属化孔"
   - 直径：2.7mm（M2.5螺丝）
   - 位置：
     - (5, 5)
     - (80.6, 5)
     - (5, 48.98)
     - (80.6, 48.98)

### 步骤3：导入网表

1. **打开网表导入功能**
   - 顶部菜单：文件 → 导入 → 网表文件
   - 或快捷键：Ctrl + Shift + N

2. **选择网表文件**
   - 浏览到 `pwnzero.net`
   - 点击"打开"

3. **网表导入设置**
   ```
   格式：Altium/Protel
   编码：UTF-8
   ```
   - 点击"导入"

4. **查看导入结果**
   - 左侧会显示所有网络
   - 底部会显示所有元器件
   - 如果有错误，检查网表文件格式

### 步骤4：匹配元器件封装

导入网表后，需要为每个元器件分配封装：

#### 主要元器件封装

| 元器件 | 位号 | 封装名称 | 在立创EDA中搜索 |
|--------|------|----------|----------------|
| Raspberry Pi Zero 2W | U1 | 2x20 Pin Header | `2.54mm 2x20 排针` |
| CC1101 TX | U2 | CC1101 Module | `CC1101 模块` |
| CC1101 RX | U3 | CC1101 Module | `CC1101 模块` |
| PN532 | U4 | PN532 Module | `PN532 模块` |
| OLED | U5 | OLED 128x64 | `SH1106 1.3寸` |
| IR接收 | U6 | VS1838B | `VS1838B` |
| 五向摇杆 | SW1 | 5-Way Switch | `五向按键` |
| IR LED | D1 | LED 5mm | `LED-5MM` |
| LED红 | D2 | LED 5mm | `LED-5MM` |
| LED黄 | D3 | LED 5mm | `LED-5MM` |
| LED绿 | D4 | LED 5mm | `LED-5MM` |
| 电阻 | R1-R4 | 0805 | `R0805` |
| 电容 | C1-C4 | 0805 | `C0805` |

#### 匹配封装步骤

1. **打开元器件列表**
   - 底部面板 → 元器件列表

2. **为每个元器件分配封装**
   - 双击元器件
   - 点击"封装"栏
   - 搜索对应封装
   - 选择合适的封装
   - 点击"确定"

3. **批量分配相同封装**
   - 选中多个相同类型元器件（如R1-R4）
   - 右键 → 批量修改封装
   - 选择 `R0805`

### 步骤5：放置元器件

参考 `PCB_COMPLETE_DESIGN.md` 中的坐标表放置元器件。

#### 顶层元器件

1. **OLED显示屏 (U5)**
   - 位置：(31, 16)
   - 旋转：0°
   - 拖动到对应位置

2. **五向摇杆 (SW1)**
   - 位置：(60, 27)
   - 旋转：0°

3. **LED (D2, D3, D4)**
   - D2红：(78, 5)
   - D3黄：(78, 13)
   - D4绿：(78, 21)

#### 底层元器件

1. **切换到底层**
   - 按键盘 `L` 键
   - 或点击右侧"层"面板 → 底层

2. **放置底层元器件**
   - Pi Zero 2W (U1)：(42.8, 27)
   - CC1101 TX (U2)：(11, 14)
   - CC1101 RX (U3)：(11, 41)
   - PN532 (U4)：(45, 27)
   - IR接收 (U6)：(78, 10)，旋转180°
   - IR LED (D1)：(78, 35)，旋转180°

3. **放置SMD元件**
   - 电阻 R1-R4：参考坐标表
   - 电容 C1-C4：参考坐标表

### 步骤6：设置布线规则

1. **打开设计规则**
   - 顶部菜单：设计 → 规则设置

2. **设置线宽**
   ```
   电源线（GND, +3V3, +5V）：0.5-0.6mm
   信号线（I2C, SPI, GPIO）：0.25-0.3mm
   最小间距：0.2mm
   ```

3. **设置网络类**
   - 新建网络类"Power"
   - 添加网络：GND, +3V3, +5V
   - 设置线宽：0.6mm

   - 新建网络类"Signal"
   - 添加其他所有网络
   - 设置线宽：0.3mm

### 步骤7：布线

#### 自动布线（快速）

1. **使用自动布线**
   - 顶部菜单：工具 → 自动布线
   - 选择"智能布线"
   - 点击"开始布线"

2. **检查布线结果**
   - 查看是否有未连接的网络
   - 检查是否有DRC错误

#### 手动布线（推荐）

1. **布线顺序**
   - 先布电源线（GND, +3V3, +5V）
   - 再布关键信号线（I2C, SPI）
   - 最后布其他GPIO

2. **I2C总线布线**
   ```
   Pi Zero Pin 3 (GPIO2/SDA) → OLED SDA
                              → PN532 SDA

   Pi Zero Pin 5 (GPIO3/SCL) → OLED SCL
                              → PN532 SCL
   ```
   - 使用0.3mm线宽
   - 尽量短且平行

3. **SPI总线布线**
   ```
   Pi Zero Pin 19 (MOSI) → CC1101 TX MOSI
                         → CC1101 RX MOSI

   Pi Zero Pin 21 (MISO) → CC1101 TX MISO
                         → CC1101 RX MISO

   Pi Zero Pin 23 (SCLK) → CC1101 TX SCK
                         → CC1101 RX SCK
   ```

4. **电源布线**
   - 使用0.6mm线宽
   - 从Pi Zero的3.3V和5V引脚引出
   - 连接到各模块

### 步骤8：铺铜

1. **顶层铺地**
   - 点击"铺铜"工具
   - 选择顶层
   - 网络：GND
   - 间距：0.3mm
   - 绘制覆盖整个板框

2. **底层铺地**
   - 切换到底层
   - 重复铺铜操作
   - 网络：GND

3. **重建铺铜**
   - 右键铺铜区域 → 重建铺铜
   - 检查铺铜是否正确

### 步骤9：DRC检查

1. **运行DRC**
   - 顶部菜单：工具 → 设计规则检查
   - 点击"开始检查"

2. **修复错误**
   - 查看错误列表
   - 双击错误定位到问题位置
   - 修复所有错误和警告

3. **常见错误**
   - 线宽不足：调整线宽
   - 间距不足：调整走线
   - 未连接网络：补充布线

### 步骤10：生成Gerber并下单

1. **生成Gerber文件**
   - 顶部菜单：文件 → 导出 → Gerber
   - 选择所有层
   - 点击"导出"

2. **直接下单到嘉立创**
   - 点击右上角"下单"按钮
   - 或：文件 → 制造 → 嘉立创PCB下单

3. **填写下单参数**
   ```
   板子尺寸：85.6 x 53.98 mm
   板子层数：2层
   板子厚度：1.6mm
   铜箔厚度：1oz
   阻焊颜色：黑色（推荐）
   字符颜色：白色
   表面处理：HASL无铅
   ```

4. **上传BOM（可选）**
   - 如果需要SMT贴片服务
   - 上传 `pwnzero_bom.csv`
   - 系统会自动匹配LCSC料号

5. **确认订单**
   - 检查价格和数量
   - 添加到购物车
   - 结算下单

---

## 🔧 方法二：从零开始手动创建

如果网表导入失败，可以手动创建：

### 步骤1：创建原理图

1. **新建原理图**
   - 文件 → 新建 → 原理图

2. **添加元器件**
   - 点击"元件库"
   - 搜索并添加所有元器件
   - 参考 `pwnzero_bom.csv`

3. **连接电路**
   - 使用"导线"工具连接
   - 参考 `PCB_COMPLETE_DESIGN.md` 中的连接表

4. **更新PCB**
   - 顶部菜单：设计 → 更新PCB
   - 元器件会自动导入PCB

### 步骤2：继续PCB设计

- 按照"方法一"的步骤5-10继续

---

## ⚠️ 常见问题

### Q1: 网表导入失败
**A:**
- 检查网表文件格式是否正确
- 尝试用文本编辑器打开 `pwnzero.net` 检查编码
- 确保选择了正确的网表格式（Altium/Protel）

### Q2: 找不到元器件封装
**A:**
- 使用立创商城搜索对应元器件
- 查看商品详情页的封装信息
- 或使用"封装管理器"自定义封装

### Q3: 自动布线失败
**A:**
- 元器件放置太密集，手动调整位置
- 网络太复杂，使用手动布线
- 分批布线：先布电源，再布信号

### Q4: DRC有很多错误
**A:**
- 检查设计规则设置是否正确
- 最小线宽：0.2mm
- 最小间距：0.2mm
- 逐个修复错误

### Q5: 如何导入BOM自动匹配元器件
**A:**
1. 原理图模式下
2. 顶部菜单：工具 → BOM → 导入BOM
3. 选择 `pwnzero_bom.csv`
4. 系统会自动匹配LCSC料号
5. 未匹配的手动搜索添加

---

## 📊 完整工作流程总结

```
1. 注册登录立创EDA
   ↓
2. 新建PCB项目
   ↓
3. 绘制板框 (85.6 x 53.98mm)
   ↓
4. 导入网表 (pwnzero.net)
   ↓
5. 匹配元器件封装
   ↓
6. 放置元器件（参考坐标表）
   ↓
7. 设置布线规则
   ↓
8. 布线（手动或自动）
   ↓
9. 铺铜（顶层+底层GND）
   ↓
10. DRC检查并修复错误
   ↓
11. 生成Gerber
   ↓
12. 直接下单到嘉立创
```

---

## 🎯 推荐设置

### PCB参数
```
板子尺寸: 85.6 x 53.98 mm
板子层数: 2层
板子厚度: 1.6mm
铜箔厚度: 1oz (35μm)
阻焊颜色: 黑色（酷炫）
字符颜色: 白色
表面处理: HASL无铅
最小线宽: 0.2mm
最小线距: 0.2mm
最小孔径: 0.3mm
```

### 下单数量建议
- 首次打样：5片（最低起订量）
- 成本：约50-100元（不含SMT）
- 制作周期：3-5天

---

## 📞 技术支持

### 立创EDA官方资源
- 官网：https://lceda.cn/
- 教程：https://docs.lceda.cn/
- 论坛：https://club.szlcsc.com/
- 客服：在线客服（工作日9:00-18:00）

### 本项目文件
- 网表：`pwnzero.net`
- BOM：`pwnzero_bom.csv`
- 设计文档：`PCB_COMPLETE_DESIGN.md`
- KiCad参考：`pwnzero.kicad_pcb`

---

**祝你PCB设计顺利！🎉**
